# Cassandra storage config YAML 
# Generated by Chef for <%= node[:fqdn] %>

<%
  if node.default['cassandra']['cassandra_yaml']['seed_provider'][0]['class_name'] == 'org.apache.cassandra.locator.SimpleSeedProvider'
    node.default['cassandra']['cassandra_yaml']['seed_provider'][0]['parameters'][0]['seeds'] = node['cassandra']['cassandra_yaml']['seeds']
  end
  yaml = node['cassandra']['cassandra_yaml'].to_yaml
  yaml.gsub!(/ *!ruby\/.*/, '')
  yaml.gsub!(/^seeds:.*/, '')
%>
<%= yaml %>
